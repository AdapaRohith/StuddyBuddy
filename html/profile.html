<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyBuddy - Profile</title>
    
    <link rel="stylesheet" href="../css/style.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #2d1b69 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        

        .profile-hero {
            position: relative;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
            border-radius: 24px;
            margin: 2rem;
            padding: 3rem 2rem;
            overflow: hidden;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.1;
            z-index: 0;
        }

        .hero-pattern {
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 25%, #667eea 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, #764ba2 2px, transparent 2px);
            background-size: 50px 50px;
            animation: patternMove 20s linear infinite;
        }

        @keyframes patternMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .profile-hero-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            text-align: center;
        }

        .profile-avatar-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .profile-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 4px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 0 auto;
        }

        .profile-avatar:hover {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .avatar-image, .avatar-fallback {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            background: rgba(255, 255, 255, 0.1);
        }

        .anonymous-avatar {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%);
            color: #ffffff;
            font-size: 4rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .anonymous-avatar i {
            opacity: 0.9;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .avatar-edit-btn {
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .avatar-edit-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .profile-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #22c55e;
            animation: pulse 2s infinite;
        }

        .status-indicator.away { background: #f59e0b; }
        .status-indicator.offline { background: #64748b; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .status-text {
            font-size: 0.85rem;
            font-weight: 500;
            color: #e2e8f0;
        }

        .profile-info {
            flex: 1;
            min-width: 0;
        }

        .profile-name {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .name-edit-btn {
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .name-edit-btn:hover {
            color: #667eea;
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        .profile-title, .profile-university {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .profile-title i, .profile-university i {
            color: #667eea;
        }

        .profile-badges {
            display: flex;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .badge.verified {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .badge.premium {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .profile-actions {
            display: flex;
            gap: 1rem;
            flex-direction: column;
        }

        .btn-primary, .btn-secondary {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            min-width: 140px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            border-color: rgba(102, 126, 234, 0.3);
        }

        #settingsBtn {
            position: relative;
            z-index: 10;
            pointer-events: auto;
        }

        

        .stats-dashboard {
            margin: 0 2rem 2rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 1.5rem;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(102, 126, 234, 0.3);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-card .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #ffffff;
            display: block;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .stat-trend.positive {
            color: #22c55e;
        }

        .stat-trend.negative {
            color: #ef4444;
        }

        .stat-progress {
            margin-top: 1rem;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 2px;
            transition: width 1s ease;
        }

        

        .profile-content {
            margin: 0 2rem 2rem;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        .content-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab-btn {
            flex: 1;
            padding: 1.2rem 1.5rem;
            background: transparent;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 500;
            border-bottom: 3px solid transparent;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-btn:hover:not(.active) {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.05);
        }

        .tab-content {
            min-height: 400px;
        }

        .tab-panel {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.3s ease;
        }

        .tab-panel.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        

        .overview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .overview-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .card-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #ffffff;
            font-weight: 600;
        }

        .card-header i {
            color: #667eea;
        }

        .weekly-progress {
            display: flex;
            gap: 1rem;
            align-items: end;
            justify-content: space-between;
        }

        .progress-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .day {
            font-size: 0.8rem;
            color: #94a3b8;
            font-weight: 500;
        }

        .day-progress {
            width: 20px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: height 1s ease;
        }

        .hours {
            font-size: 0.75rem;
            color: #e2e8f0;
            font-weight: 500;
        }

        .group-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .group-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .group-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .group-avatar {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .group-info h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .group-info p {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        .group-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: auto;
        }

        .group-status.online { background: #22c55e; }
        .group-status.away { background: #f59e0b; }
        .group-status.offline { background: #64748b; }

        

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .achievement-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .achievement-card.earned {
            border-color: rgba(34, 197, 94, 0.3);
            background: rgba(34, 197, 94, 0.1);
        }

        .achievement-card.locked {
            opacity: 0.6;
            border-color: rgba(100, 116, 139, 0.3);
        }

        .achievement-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .achievement-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .achievement-card.earned .achievement-icon {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
        }

        .achievement-card.locked .achievement-icon {
            background: rgba(100, 116, 139, 0.3);
            color: #64748b;
        }

        .achievement-content {
            flex: 1;
        }

        .achievement-content h3 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .achievement-content p {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .achievement-date {
            color: #22c55e;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .achievement-progress {
            margin-top: 0.5rem;
        }

        .achievement-progress .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-bottom: 0.3rem;
        }

        .achievement-progress span {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        .achievement-badge {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .achievement-badge:not(.locked) {
            background: #22c55e;
            color: white;
        }

        .achievement-badge.locked {
            background: rgba(100, 116, 139, 0.3);
            color: #64748b;
        }

        

        .activity-timeline {
            position: relative;
            padding-left: 2rem;
        }

        .activity-timeline::before {
            content: '';
            position: absolute;
            left: 1rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        }

        .timeline-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            position: relative;
        }

        .timeline-marker {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            position: absolute;
            left: -2rem;
            z-index: 1;
            border: 3px solid #0f0f23;
        }

        .timeline-content {
            flex: 1;
            background: rgba(255, 255, 255, 0.08);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timeline-content h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .timeline-content p {
            color: #94a3b8;
            margin-bottom: 0.5rem;
        }

        .timeline-time {
            color: #667eea;
            font-size: 0.8rem;
            font-weight: 500;
        }

        
        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .activity-filters {
            display: flex;
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #94a3b8;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
        }

        .activity-stats {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .activity-stat {
            text-align: center;
        }

        .activity-stat .stat-number {
            display: block;
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .activity-stat .stat-label {
            font-size: 0.8rem;
            color: #94a3b8;
        }

        
        .activity-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .activity-reactions,
        .help-stats {
            display: flex;
            gap: 0.5rem;
        }

        .reaction,
        .stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            color: #94a3b8;
        }

        .progress-badge,
        .achievement-reward,
        .score-badge,
        .accuracy,
        .milestone-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.2rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .group-badge,
        .attendees,
        .compatibility {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            padding: 0.2rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .improvement {
            color: #22c55e;
            font-size: 0.8rem;
        }

        .test-result {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .chapter-progress {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .time-spent {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        
        .load-more-container {
            text-align: center;
            margin-top: 2rem;
        }

        .load-more-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #94a3b8;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .load-more-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #667eea;
            transform: translateY(-2px);
        }

        
        .week-summary {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .total-hours {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .hours-label {
            font-size: 0.8rem;
            color: #94a3b8;
        }

        .progress-insights {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .insight {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #22c55e;
            font-size: 0.9rem;
        }

        .view-all-btn {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .view-all-btn:hover {
            color: #764ba2;
        }

        
        .mini-achievement {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .achievement-mini-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .achievement-mini-info h5 {
            color: white;
            margin-bottom: 0.2rem;
            font-size: 0.9rem;
        }

        .achievement-mini-info p {
            color: #94a3b8;
            font-size: 0.8rem;
            margin: 0;
        }

        
        .resource-item,
        .event-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .resource-item:hover,
        .event-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .resource-icon {
            width: 35px;
            height: 35px;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .resource-info h5,
        .event-info h5 {
            color: white;
            margin-bottom: 0.2rem;
            font-size: 0.9rem;
        }

        .resource-info p,
        .event-info p {
            color: #94a3b8;
            font-size: 0.8rem;
            margin: 0;
        }

        .resource-stats {
            margin-left: auto;
            color: #667eea;
            font-size: 0.8rem;
        }

        .event-date {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 45px;
            padding: 0.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            color: white;
            font-weight: 600;
        }

        .event-day {
            font-size: 1.1rem;
            line-height: 1;
        }

        .event-month {
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        
        .streak-container {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .streak-number {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .streak-count {
            font-size: 3rem;
            font-weight: 700;
            color: #667eea;
            line-height: 1;
        }

        .streak-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .streak-progress {
            flex: 1;
        }

        .streak-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .streak-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 1s ease;
        }

        .streak-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .streak-reward {
            color: #fbbf24;
            font-size: 0.8rem;
        }

        
        .achievements-header {
            margin-bottom: 2rem;
        }

        .achievements-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .achievement-stats {
            display: flex;
            gap: 2rem;
        }

        .next-achievement {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .next-badge {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .next-info h4 {
            color: white;
            margin-bottom: 0.2rem;
        }

        .next-info p {
            color: #94a3b8;
            font-size: 0.9rem;
            margin: 0;
        }

        .achievements-categories {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #94a3b8;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn.active,
        .category-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
        }

        .achievement-xp {
            color: #fbbf24;
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .achievement-card.progress .achievement-badge {
            background: rgba(255, 255, 255, 0.1);
            color: #667eea;
        }

        .progress-percentage {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .achievement-requirement {
            color: #94a3b8;
            font-size: 0.8rem;
            font-style: italic;
            margin-top: 0.5rem;
        }

        

        .preferences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .preference-section h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .preference-section i {
            color: #667eea;
        }

        .preference-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .preference-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .preference-item:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .preference-info h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .preference-info p {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(100, 116, 139, 0.5);
            transition: .3s;
            border-radius: 26px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .3s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .preference-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preference-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .preference-select option {
            background: #1a1a3e;
            color: #ffffff;
        }

        
        .preference-btn {
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            border: none;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            min-width: 120px;
            justify-content: center;
        }

        .preference-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .preference-btn.primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
            transform: translateY(-2px);
        }

        .preference-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .preference-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .preference-btn.logout {
            background: rgba(251, 191, 36, 0.15);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .preference-btn.logout:hover {
            background: rgba(251, 191, 36, 0.25);
            border-color: #fbbf24;
        }

        .preference-btn.danger {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .preference-btn.danger:hover {
            background: rgba(239, 68, 68, 0.25);
            border-color: #ef4444;
        }

        .preference-btn.delete {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
        }

        .preference-btn.delete:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%);
            transform: translateY(-2px);
        }

        
        .danger-section {
            border: 2px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            background: rgba(239, 68, 68, 0.05);
        }

        .danger-section h3 {
            color: #ef4444 !important;
        }

        .danger-item {
            border-top: 1px solid rgba(239, 68, 68, 0.2);
            padding-top: 1rem;
            margin-top: 1rem;
        }

        .warning-text {
            color: #fbbf24;
            font-weight: 500;
            display: block;
            margin-top: 0.5rem;
        }

        

        .profile-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            overflow-y: auto;
            box-sizing: border-box;
        }

        .profile-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        
        #profileModal .profile-modal {
            position: fixed !important;
            top: 50vh !important;
            left: 50vw !important;
            transform: translate(-50%, -50%) !important;
            z-index: 99999 !important;
            margin: 0 !important;
        }

        .profile-modal {
            background: linear-gradient(135deg, #0f0f23 0%, #2d1b69 100%);
            border-radius: 20px;
            width: 900px;
            min-height: 500px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            
        }

        .profile-modal-overlay.active .profile-modal {
            opacity: 1;
        }

        .profile-modal-header {
            padding: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .profile-modal-header h2 {
            color: #ffffff;
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
        }

        .profile-modal-header i {
            color: #667eea;
        }

        .modal-close {
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .modal-close:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .profile-modal-body {
            padding: 2rem;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }

        .profile-edit-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .profile-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .profile-section:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #64b5f6;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(100, 181, 246, 0.2);
        }

        .profile-section.selected {
            background: rgba(100, 181, 246, 0.2);
            border-color: #64b5f6;
            box-shadow: 0 0 20px rgba(100, 181, 246, 0.3);
        }

        .profile-section i {
            font-size: 2rem;
            color: #64b5f6;
            margin-bottom: 1rem;
            display: block;
        }

        .profile-section h4 {
            color: #fff;
            margin: 0 0 0.5rem 0;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .profile-section p {
            color: rgba(255, 255, 255, 0.7);
            margin: 0 0 1rem 0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .section-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .feature-tag {
            background: rgba(100, 181, 246, 0.2);
            color: #64b5f6;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        .profile-step {
            display: none;
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .profile-step.visible,
        #profileStep1 {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        .profile-step.hidden,
        #profileStep2 {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
        }

        .profile-step h3 {
            color: #fff;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0 0 1.5rem 0;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .selected-section-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .selected-section-info i {
            font-size: 1.5rem;
            color: #64b5f6;
        }

        .selected-section-info span {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .edit-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .form-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-section h3 {
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section i {
            color: #667eea;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            color: #e2e8f0;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            display: block;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 0.8rem;
            color: #ffffff;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.15);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .photo-upload-section {
            text-align: center;
        }

        .photo-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #667eea;
            border: 2px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
        }

        .photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .upload-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-cancel {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-cancel:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-save:hover {
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .profile-modal {
                width: calc(100vw - 20px);
                max-width: calc(100vw - 20px);
                max-height: calc(100vh - 20px);
                min-height: 400px;
            }
            
            .edit-form-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .profile-edit-sections {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .profile-section {
                padding: 1rem;
            }
            
            .profile-section i {
                font-size: 1.5rem;
            }
            
            .profile-section h4 {
                font-size: 1.1rem;
            }
            
            .section-features {
                gap: 0.3rem;
            }
            
            .feature-tag {
                padding: 0.2rem 0.6rem;
                font-size: 0.75rem;
            }
            
            .profile-modal-header {
                padding: 1.5rem;
            }
            
            .profile-modal-body {
                padding: 1.5rem;
            }
        }

        
        .settings-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .settings-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .settings-modal {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border-radius: 16px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 900px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(30px) scale(0.9);
            transition: all 0.3s ease;
        }

        .settings-modal-overlay.active .settings-modal {
            transform: translateY(0) scale(1);
        }

        .settings-modal-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }

        .settings-modal-header h2 {
            margin: 0;
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .settings-modal-header i {
            margin-right: 0.75rem;
        }

        .settings-modal-body {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .settings-categories {
            width: 250px;
            background: rgba(20, 20, 40, 0.7);
            border-right: 1px solid rgba(102, 126, 234, 0.2);
            overflow-y: auto;
        }

        .settings-category {
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }

        .settings-category:hover {
            background: rgba(102, 126, 234, 0.1);
            color: white;
        }

        .settings-category.active {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            color: white;
            border-left: 3px solid #667eea;
        }

        .settings-category i {
            margin-right: 0.75rem;
            width: 20px;
            text-align: center;
        }

        .settings-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        .settings-panel {
            display: none;
            padding: 2rem;
        }

        .settings-panel.active {
            display: block;
        }

        .settings-panel h3 {
            margin: 0 0 1.5rem 0;
            color: white;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .setting-group {
            margin-bottom: 2rem;
        }

        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(102, 126, 234, 0.2);
            margin-bottom: 1rem;
            transition: all 0.2s ease;
        }

        .setting-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(102, 126, 234, 0.4);
        }

        .setting-item.danger {
            border-color: rgba(239, 68, 68, 0.3);
        }

        .setting-item.danger:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.5);
        }

        .setting-info h4 {
            margin: 0 0 0.25rem 0;
            color: white;
            font-size: 1rem;
            font-weight: 500;
        }

        .setting-info p {
            margin: 0;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.875rem;
        }

        .settings-modal-footer {
            background: rgba(20, 20, 40, 0.7);
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .form-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: white;
            font-size: 0.875rem;
            min-width: 120px;
        }

        .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: 0.4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        
        .back-btn, .save-btn {
            margin: 1rem 0;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(102, 126, 234, 0.5);
        }

        .save-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .save-btn:hover {
            background: linear-gradient(135deg, #5a67d8, #6b46c1);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .profile-modal-footer {
            background: rgba(20, 20, 40, 0.7);
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .drag-over {
            background: rgba(102, 126, 234, 0.1) !important;
            border-color: #667eea !important;
        }

        

        .mobile-nav-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #2d1b69 100%);
            background-attachment: fixed;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        
        @supports not (backdrop-filter: blur(12px)) {
            .mobile-nav-overlay {
                background: linear-gradient(135deg, rgba(15, 15, 35, 0.95) 0%, rgba(26, 26, 62, 0.95) 50%, rgba(45, 27, 105, 0.95) 100%);
            }
        }
        
        
        .mobile-nav-overlay::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.3) 0%, rgba(26, 26, 62, 0.2) 50%, rgba(45, 27, 105, 0.3) 100%);
            z-index: -1;
        }

        .mobile-nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 300px;
            height: 100vh;
            background: linear-gradient(180deg, #1a1a3e 0%, #2d1b69 100%);
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
            z-index: 10000;
        }

        .mobile-nav-overlay.active .mobile-nav-menu {
            right: 0;
        }

        .mobile-nav-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .mobile-nav-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background 0.2s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-nav-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .mobile-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            padding: 18px 20px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.2s ease;
            gap: 15px;
            min-height: 60px;
        }

        .mobile-nav-link:hover,
        .mobile-nav-link.active {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            transform: translateX(5px);
        }

        .mobile-nav-link i {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
            color: #667eea;
        }

        .mobile-nav-link span {
            font-size: 1rem;
            font-weight: 500;
        }

        

        @media (max-width: 1200px) {
            .overview-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .main-nav .nav-list {
                display: none !important;
            }

            .nav-toggle {
                display: flex !important;
                background: none;
                border: none;
                color: #ffffff;
                font-size: 1.5rem;
                cursor: pointer;
                padding: 12px;
                border-radius: 8px;
                transition: all 0.2s ease;
                width: 48px;
                height: 48px;
                align-items: center;
                justify-content: center;
            }

            .nav-toggle:hover {
                background: rgba(255, 255, 255, 0.1);
                transform: scale(1.1);
            }

            .mobile-nav-overlay {
                display: block;
            }

            .site-header {
                flex-wrap: wrap;
                gap: 1rem;
                padding: 1rem 1.5rem;
            }

            .profile-hero {
                margin: 1rem;
                padding: 2rem 1rem;
            }

            .profile-hero-content {
                gap: 1.5rem;
            }
            
            .profile-avatar {
                width: 120px;
                height: 120px;
            }
            
            .anonymous-avatar {
                font-size: 3rem;
            }

            .profile-actions {
                flex-direction: row;
                justify-content: center;
            }

            .stats-dashboard, .profile-content {
                margin: 0 1rem 1rem;
            }

            .preferences-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .profile-hero {
                padding: 1.5rem 1rem;
            }

            .profile-actions {
                flex-direction: column;
                align-items: center;
            }

            .btn-primary, .btn-secondary {
                width: 100%;
                max-width: 200px;
            }

            .content-tabs {
                overflow-x: auto;
            }

            .tab-btn {
                min-width: 120px;
                flex-shrink: 0;
            }

            .tab-panel {
                padding: 1rem;
            }

            .weekly-progress {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .progress-item {
                min-width: 35px;
            }

            .activity-header {
                flex-direction: column;
                align-items: stretch;
            }

            .activity-filters {
                flex-wrap: wrap;
            }

            .activity-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .streak-container {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .achievements-summary {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .achievement-stats {
                justify-content: center;
            }

            .chapter-progress {
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .mobile-nav-menu {
                width: 280px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .achievements-grid {
                grid-template-columns: 1fr;
            }

            .achievement-card {
                flex-direction: column;
                text-align: center;
            }

            .profile-name {
                font-size: 1.5rem;
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        

        .stat-number {
            opacity: 0;
            transform: translateY(20px);
            animation: countUp 1s ease forwards;
        }

        @keyframes countUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .achievement-card.earned {
            animation: achievementGlow 2s ease infinite alternate;
        }

        @keyframes achievementGlow {
            from {
                box-shadow: 0 0 20px rgba(34, 197, 94, 0.1);
            }
            to {
                box-shadow: 0 0 30px rgba(34, 197, 94, 0.2);
            }
        }

        .timeline-item {
            opacity: 0;
            transform: translateX(-20px);
            animation: slideIn 0.5s ease forwards;
        }

        .timeline-item:nth-child(1) { animation-delay: 0.1s; }
        .timeline-item:nth-child(2) { animation-delay: 0.2s; }
        .timeline-item:nth-child(3) { animation-delay: 0.3s; }
        .timeline-item:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>

    <div class="site-container">
        <header class="site-header">
            <div class="logo">
                <i class="fa-solid fa-user-graduate"></i> <h1>StudyBuddy</h1>
            </div>
            <p class="slogan">Collaborate. Learn. Achieve.</p>
            
            
            <div class="auth-section" id="authSection">
                <button class="btn-auth btn-login" id="loginBtn">
                    <i class="fa-solid fa-sign-in-alt"></i>
                    <span>Login</span>
                </button>
                <button class="btn-auth btn-signup" id="signupBtn">
                    <i class="fa-solid fa-user-plus"></i>
                    <span>Sign Up</span>
                </button>
            </div>

            
            <div class="user-section" id="userSection" style="display: none;">
                <div class="user-profile">
                    <div class="user-avatar default-avatar">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="user-info">
                        <span class="user-name">Your Name</span>
                        <span class="user-email">Your University</span>
                    </div>
                    <div class="user-dropdown">
                        <button class="dropdown-toggle" id="userDropdown">
                            <i class="fa-solid fa-chevron-down"></i>
                        </button>
                        <div class="dropdown-menu" id="dropdownMenu">
                            <a href="profile.html" class="dropdown-item">
                                <i class="fa-solid fa-user"></i> My Profile
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fa-solid fa-cog"></i> Settings
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fa-solid fa-bell"></i> Notifications
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item logout-item" id="logoutBtn">
                                <i class="fa-solid fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            
            <nav class="main-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../index.html" class="nav-link">
                            <i class="fa-solid fa-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="groups.html" class="nav-link">
                            <i class="fa-solid fa-users"></i>
                            <span>Groups</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="resources.html" class="nav-link">
                            <i class="fa-solid fa-folder"></i>
                            <span>Resources</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="schedule.html" class="nav-link">
                            <i class="fa-solid fa-calendar"></i>
                            <span>Schedule</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="profile.html" class="nav-link active">
                            <i class="fa-solid fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                </ul>
                <button class="nav-toggle" id="navToggle">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </nav>
        </header>

        
        <div class="mobile-nav-overlay" id="mobileNavOverlay">
            <div class="mobile-nav-menu">
                <div class="mobile-nav-header">
                    <span class="mobile-nav-title">StudyBuddy Menu</span>
                    <button class="mobile-nav-close" id="mobileNavClose">
                        <i class="fa-solid fa-times"></i>
                    </button>
                </div>
                <ul class="mobile-nav-list">
                    <li class="mobile-nav-item"><a href="../index.html" class="mobile-nav-link"><i class="fa-solid fa-home"></i><span>Dashboard</span></a></li>
                    <li class="mobile-nav-item"><a href="groups.html" class="mobile-nav-link"><i class="fa-solid fa-users"></i><span>Groups</span></a></li>
                    <li class="mobile-nav-item"><a href="resources.html" class="mobile-nav-link"><i class="fa-solid fa-folder"></i><span>Resources</span></a></li>
                    <li class="mobile-nav-item"><a href="schedule.html" class="mobile-nav-link"><i class="fa-solid fa-calendar"></i><span>Schedule</span></a></li>
                    <li class="mobile-nav-item"><a href="profile.html" class="mobile-nav-link active"><i class="fa-solid fa-user"></i><span>Profile</span></a></li>
                </ul>
            </div>
        </div>

        <main class="dashboard">
            
            <div class="profile-hero">
                <div class="profile-hero-bg">
                    <div class="hero-pattern"></div>
                </div>
                <div class="profile-hero-content">
                    <div class="profile-avatar-container">
                        <div class="profile-avatar" id="profileAvatar">
                            <div class="avatar-fallback anonymous-avatar">
                                <i class="fa-solid fa-user"></i>
                            </div>
                        </div>
                        <button class="avatar-edit-btn" id="avatarEditBtn">
                            <i class="fa-solid fa-camera"></i>
                        </button>
                        <div class="profile-status">
                            <div class="status-indicator active"></div>
                            <span class="status-text">Online</span>
                        </div>
                    </div>
                    
                    <div class="profile-info">
                        <h1 class="profile-name">
                            <span class="name-text" id="profileName">Anonymous User</span>
                            <button class="name-edit-btn" id="nameEditBtn">
                                <i class="fa-solid fa-pen"></i>
                            </button>
                        </h1>
                        <p class="profile-title">
                            <i class="fa-solid fa-graduation-cap"></i>
                            Student
                        </p>
                        <p class="profile-university">
                            <i class="fa-solid fa-university"></i>
                            State University
                        </p>
                        <div class="profile-badges">
                            <span class="badge verified">
                                <i class="fa-solid fa-check-circle"></i>
                                Verified Student
                            </span>
                            <span class="badge premium">
                                <i class="fa-solid fa-crown"></i>
                                StudyBuddy Member
                            </span>
                        </div>
                    </div>

                </div>
            </div>

            
            <div class="stats-dashboard">
                <div class="stats-grid">
                    <div class="stat-card interactive" data-stat="groups">
                        <div class="stat-icon">
                            <i class="fa-solid fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" data-target="12">0</div>
                            <div class="stat-label">Study Groups</div>
                            <div class="stat-trend positive">
                                <i class="fa-solid fa-arrow-up"></i>
                                +3 this month
                            </div>
                        </div>
                        <div class="stat-progress">
                            <div class="progress-bar" data-progress="75"></div>
                        </div>
                    </div>

                    <div class="stat-card interactive" data-stat="hours">
                        <div class="stat-icon">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" data-target="187">0</div>
                            <div class="stat-label">Study Hours</div>
                            <div class="stat-trend positive">
                                <i class="fa-solid fa-arrow-up"></i>
                                +15 this week
                            </div>
                        </div>
                        <div class="stat-progress">
                            <div class="progress-bar" data-progress="92"></div>
                        </div>
                    </div>

                    <div class="stat-card interactive" data-stat="resources">
                        <div class="stat-icon">
                            <i class="fa-solid fa-folder-open"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" data-target="43">0</div>
                            <div class="stat-label">Resources Shared</div>
                            <div class="stat-trend positive">
                                <i class="fa-solid fa-arrow-up"></i>
                                +8 this week
                            </div>
                        </div>
                        <div class="stat-progress">
                            <div class="progress-bar" data-progress="68"></div>
                        </div>
                    </div>

                    <div class="stat-card interactive" data-stat="achievements">
                        <div class="stat-icon">
                            <i class="fa-solid fa-trophy"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" data-target="8">0</div>
                            <div class="stat-label">Achievements</div>
                            <div class="stat-trend positive">
                                <i class="fa-solid fa-arrow-up"></i>
                                New: Study Streak
                            </div>
                        </div>
                        <div class="stat-progress">
                            <div class="progress-bar" data-progress="80"></div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="profile-content">
                <div class="content-tabs">
                    <button class="tab-btn active" data-tab="overview">
                        <i class="fa-solid fa-chart-line"></i>
                        Overview
                    </button>
                    <button class="tab-btn" data-tab="achievements">
                        <i class="fa-solid fa-trophy"></i>
                        Achievements
                    </button>
                    <button class="tab-btn" data-tab="activity">
                        <i class="fa-solid fa-clock"></i>
                        Activity
                    </button>
                    <button class="tab-btn" data-tab="preferences">
                        <i class="fa-solid fa-cog"></i>
                        Preferences
                    </button>
                </div>

                <div class="tab-content">
                    
                    <div class="tab-panel active" id="overview">
                        <div class="overview-grid">
                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-calendar-week"></i>
                                        This Week's Progress
                                    </h3>
                                    <div class="week-summary">
                                        <span class="total-hours">23h</span>
                                        <span class="hours-label">Total Hours</span>
                                    </div>
                                </div>
                                <div class="weekly-progress">
                                    <div class="progress-item">
                                        <span class="day">Mon</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 85%"></div>
                                        </div>
                                        <span class="hours">4.2h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Tue</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 70%"></div>
                                        </div>
                                        <span class="hours">3.5h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Wed</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 95%"></div>
                                        </div>
                                        <span class="hours">4.8h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Thu</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 60%"></div>
                                        </div>
                                        <span class="hours">3.0h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Fri</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 80%"></div>
                                        </div>
                                        <span class="hours">4.0h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Sat</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 40%"></div>
                                        </div>
                                        <span class="hours">2.0h</span>
                                    </div>
                                    <div class="progress-item">
                                        <span class="day">Sun</span>
                                        <div class="day-progress">
                                            <div class="progress-fill" style="height: 30%"></div>
                                        </div>
                                        <span class="hours">1.5h</span>
                                    </div>
                                </div>
                                <div class="progress-insights">
                                    <div class="insight">
                                        <i class="fa-solid fa-arrow-trend-up"></i>
                                        <span>+15% from last week</span>
                                    </div>
                                    <div class="insight">
                                        <i class="fa-solid fa-fire"></i>
                                        <span>7-day streak!</span>
                                    </div>
                                </div>
                            </div>

                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-users"></i>
                                        Active Study Groups
                                    </h3>
                                    <button class="view-all-btn" onclick="window.location.href='groups.html'">
                                        <i class="fa-solid fa-arrow-right"></i>
                                        View All
                                    </button>
                                </div>
                                <div class="group-list">
                                    <div class="group-item" onclick="joinGroup('math-circle')">
                                        <div class="group-avatar"></div>
                                        <div class="group-info">
                                            <h4>Math Study Group</h4>
                                            <p>24 members  Last active 2h ago</p>
                                        </div>
                                        <div class="group-status online"></div>
                                    </div>
                                    <div class="group-item" onclick="joinGroup('cs-hub')">
                                        <div class="group-avatar"></div>
                                        <div class="group-info">
                                            <h4>Computer Science Hub</h4>
                                            <p>156 members  Last active 30m ago</p>
                                        </div>
                                        <div class="group-status online"></div>
                                    </div>
                                    <div class="group-item" onclick="joinGroup('physics-lab')">
                                        <div class="group-avatar"></div>
                                        <div class="group-info">
                                            <h4>Physics Study Group</h4>
                                            <p>12 members  Last active 1h ago</p>
                                        </div>
                                        <div class="group-status away"></div>
                                    </div>
                                    <div class="group-item" onclick="joinGroup('jee-prep')">
                                        <div class="group-avatar"></div>
                                        <div class="group-info">
                                            <h4>Exam Preparation</h4>
                                            <p>284 members  Last active 45m ago</p>
                                        </div>
                                        <div class="group-status online"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-chart-line"></i>
                                        Study Streak
                                    </h3>
                                </div>
                                <div class="streak-container">
                                    <div class="streak-number">
                                        <span class="streak-count">14</span>
                                        <span class="streak-label">Days</span>
                                    </div>
                                    <div class="streak-progress">
                                        <div class="streak-bar">
                                            <div class="streak-fill" style="width: 70%"></div>
                                        </div>
                                        <div class="streak-info">
                                            <span>Goal: 20 days</span>
                                            <span class="streak-reward"> Unlock Study Champion badge</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-star"></i>
                                        Recent Achievements
                                    </h3>
                                    <button class="view-all-btn" onclick="switchToAchievements()">
                                        <i class="fa-solid fa-arrow-right"></i>
                                        View All
                                    </button>
                                </div>
                                <div class="recent-achievements">
                                    <div class="mini-achievement">
                                        <div class="achievement-mini-icon">
                                            <i class="fa-solid fa-fire"></i>
                                        </div>
                                        <div class="achievement-mini-info">
                                            <h5>Study Streak Master</h5>
                                            <p>Earned 2 days ago</p>
                                        </div>
                                    </div>
                                    <div class="mini-achievement">
                                        <div class="achievement-mini-icon">
                                            <i class="fa-solid fa-users"></i>
                                        </div>
                                        <div class="achievement-mini-info">
                                            <h5>Community Builder</h5>
                                            <p>Earned 1 week ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-folder-open"></i>
                                        My Resources
                                    </h3>
                                    <button class="view-all-btn" onclick="window.location.href='resources.html'">
                                        <i class="fa-solid fa-arrow-right"></i>
                                        View All
                                    </button>
                                </div>
                                <div class="resources-list">
                                    <div class="resource-item">
                                        <div class="resource-icon">
                                            <i class="fa-solid fa-file-pdf"></i>
                                        </div>
                                        <div class="resource-info">
                                            <h5>Math Notes</h5>
                                            <p>Uploaded 3 days ago</p>
                                        </div>
                                        <div class="resource-stats">
                                            <span>23 downloads</span>
                                        </div>
                                    </div>
                                    <div class="resource-item">
                                        <div class="resource-icon">
                                            <i class="fa-solid fa-code"></i>
                                        </div>
                                        <div class="resource-info">
                                            <h5>Programming Notes</h5>
                                            <p>Uploaded 1 week ago</p>
                                        </div>
                                        <div class="resource-stats">
                                            <span>41 downloads</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="overview-card">
                                <div class="card-header">
                                    <h3>
                                        <i class="fa-solid fa-calendar-days"></i>
                                        Upcoming Events
                                    </h3>
                                    <button class="view-all-btn" onclick="window.location.href='schedule.html'">
                                        <i class="fa-solid fa-arrow-right"></i>
                                        View All
                                    </button>
                                </div>
                                <div class="upcoming-events">
                                    <div class="event-item">
                                        <div class="event-date">
                                            <span class="event-day">04</span>
                                            <span class="event-month">Nov</span>
                                        </div>
                                        <div class="event-info">
                                            <h5>Study Session</h5>
                                            <p><i class="fa-solid fa-clock"></i> 3:00 PM - 5:00 PM</p>
                                        </div>
                                    </div>
                                    <div class="event-item">
                                        <div class="event-date">
                                            <span class="event-day">06</span>
                                            <span class="event-month">Nov</span>
                                        </div>
                                        <div class="event-info">
                                            <h5>Project Review</h5>
                                            <p><i class="fa-solid fa-clock"></i> 10:00 AM - 12:00 PM</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                    <div class="tab-panel" id="achievements">
                        <div class="achievements-header">
                            <div class="achievements-summary">
                                <div class="achievement-stats">
                                    <div class="stat-item">
                                        <span class="stat-number">5</span>
                                        <span class="stat-label">Earned</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-number">12</span>
                                        <span class="stat-label">Total</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-number">2,450</span>
                                        <span class="stat-label">XP Earned</span>
                                    </div>
                                </div>
                                <div class="next-achievement">
                                    <div class="next-badge">
                                        <i class="fa-solid fa-trophy"></i>
                                    </div>
                                    <div class="next-info">
                                        <h4>Next Achievement</h4>
                                        <p>Study Champion - 13 hours to go!</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="achievements-categories">
                            <button class="category-btn active" onclick="filterAchievements('all')">All Badges</button>
                            <button class="category-btn" onclick="filterAchievements('study')">Study</button>
                            <button class="category-btn" onclick="filterAchievements('social')">Social</button>
                            <button class="category-btn" onclick="filterAchievements('milestone')">Milestones</button>
                        </div>

                        <div class="achievements-grid">
                            
                            <div class="achievement-card earned" data-category="study">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-fire"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Study Streak Master</h3>
                                    <p>Studied for 14 consecutive days</p>
                                    <div class="achievement-date">Earned 2 days ago</div>
                                    <div class="achievement-xp">+500 XP</div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fa-solid fa-check"></i>
                                </div>
                            </div>

                            <div class="achievement-card earned" data-category="social">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-users"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Community Builder</h3>
                                    <p>Joined 10+ study groups</p>
                                    <div class="achievement-date">Earned 1 week ago</div>
                                    <div class="achievement-xp">+300 XP</div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fa-solid fa-check"></i>
                                </div>
                            </div>

                            <div class="achievement-card earned" data-category="social">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-share"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Resource Sharer</h3>
                                    <p>Shared 25+ study resources</p>
                                    <div class="achievement-date">Earned 2 weeks ago</div>
                                    <div class="achievement-xp">+400 XP</div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fa-solid fa-check"></i>
                                </div>
                            </div>

                            <div class="achievement-card earned" data-category="milestone">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-calendar-check"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Early Bird</h3>
                                    <p>Completed 30 early morning study sessions</p>
                                    <div class="achievement-date">Earned 3 weeks ago</div>
                                    <div class="achievement-xp">+250 XP</div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fa-solid fa-check"></i>
                                </div>
                            </div>

                            <div class="achievement-card earned" data-category="study">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-brain"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Quick Learner</h3>
                                    <p>Completed 5 topics in one day</p>
                                    <div class="achievement-date">Earned 1 month ago</div>
                                    <div class="achievement-xp">+200 XP</div>
                                </div>
                                <div class="achievement-badge">
                                    <i class="fa-solid fa-check"></i>
                                </div>
                            </div>

                            
                            <div class="achievement-card progress" data-category="milestone">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-crown"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Study Champion</h3>
                                    <p>Study for 200 hours total</p>
                                    <div class="achievement-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 94%"></div>
                                        </div>
                                        <span>187/200 hours</span>
                                    </div>
                                    <div class="achievement-xp">+1000 XP</div>
                                </div>
                                <div class="achievement-badge progress">
                                    <span class="progress-percentage">94%</span>
                                </div>
                            </div>

                            <div class="achievement-card progress" data-category="social">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-medal"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Mentor</h3>
                                    <p>Help 50 students with their studies</p>
                                    <div class="achievement-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 34%"></div>
                                        </div>
                                        <span>17/50 students helped</span>
                                    </div>
                                    <div class="achievement-xp">+750 XP</div>
                                </div>
                                <div class="achievement-badge progress">
                                    <span class="progress-percentage">34%</span>
                                </div>
                            </div>

                            
                            <div class="achievement-card locked" data-category="milestone">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-gem"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Study Legend</h3>
                                    <p>Study for 500 hours total</p>
                                    <div class="achievement-requirement">Requires Study Champion</div>
                                    <div class="achievement-xp">+2000 XP</div>
                                </div>
                                <div class="achievement-badge locked">
                                    <i class="fa-solid fa-lock"></i>
                                </div>
                            </div>

                            <div class="achievement-card locked" data-category="study">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-lightning"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Speed Demon</h3>
                                    <p>Complete 10 topics in one day</p>
                                    <div class="achievement-requirement">Requires Quick Learner</div>
                                    <div class="achievement-xp">+600 XP</div>
                                </div>
                                <div class="achievement-badge locked">
                                    <i class="fa-solid fa-lock"></i>
                                </div>
                            </div>

                            <div class="achievement-card locked" data-category="social">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-heart"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Study Buddy</h3>
                                    <p>Study with friends 25 times</p>
                                    <div class="achievement-requirement">Join more group sessions</div>
                                    <div class="achievement-xp">+400 XP</div>
                                </div>
                                <div class="achievement-badge locked">
                                    <i class="fa-solid fa-lock"></i>
                                </div>
                            </div>

                            <div class="achievement-card locked" data-category="study">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-target"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Perfectionist</h3>
                                    <p>Score 100% on 5 practice tests</p>
                                    <div class="achievement-requirement">Take more practice tests</div>
                                    <div class="achievement-xp">+800 XP</div>
                                </div>
                                <div class="achievement-badge locked">
                                    <i class="fa-solid fa-lock"></i>
                                </div>
                            </div>

                            <div class="achievement-card locked" data-category="milestone">
                                <div class="achievement-icon">
                                    <i class="fa-solid fa-rocket"></i>
                                </div>
                                <div class="achievement-content">
                                    <h3>Goal Crusher</h3>
                                    <p>Complete 100 daily goals</p>
                                    <div class="achievement-requirement">Set and complete daily goals</div>
                                    <div class="achievement-xp">+1200 XP</div>
                                </div>
                                <div class="achievement-badge locked">
                                    <i class="fa-solid fa-lock"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                    <div class="tab-panel" id="activity">
                        <div class="activity-header">
                            <div class="activity-filters">
                                <button class="filter-btn active" onclick="filterActivity('all')">All Activity</button>
                                <button class="filter-btn" onclick="filterActivity('study')">Study Sessions</button>
                                <button class="filter-btn" onclick="filterActivity('social')">Social</button>
                                <button class="filter-btn" onclick="filterActivity('achievements')">Achievements</button>
                            </div>
                            <div class="activity-stats">
                                <div class="activity-stat">
                                    <span class="stat-number">47</span>
                                    <span class="stat-label">Activities This Week</span>
                                </div>
                            </div>
                        </div>

                        <div class="activity-timeline">
                            <div class="timeline-item" data-type="social">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-upload"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Shared a new resource</h4>
                                    <p>Uploaded "Advanced Math Notes" to <strong>Math Study Group</strong></p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">2 hours ago</span>
                                        <div class="activity-reactions">
                                            <span class="reaction"> 12</span>
                                            <span class="reaction"> 5</span>
                                            <span class="reaction"> 3</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="study">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-clock"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Completed study session</h4>
                                    <p>Studied <strong>Mathematics</strong> for 2h 45m with focus mode</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">4 hours ago</span>
                                        <div class="study-progress">
                                            <span class="progress-badge">+250 XP</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="social">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-users"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Joined a study group</h4>
                                    <p>Became a member of <strong>"Exam Preparation"</strong></p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">1 day ago</span>
                                        <div class="group-badge">284 members</div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="achievements">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-trophy"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Earned an achievement</h4>
                                    <p>Unlocked <strong>"Study Streak Master"</strong> for 14-day streak</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">2 days ago</span>
                                        <div class="achievement-reward">+500 XP</div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="social">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-message"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Active in discussions</h4>
                                    <p>Helped 8 students with <strong>Chemistry</strong> problems</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">2 days ago</span>
                                        <div class="help-stats">
                                            <span class="stat"> 12 replies</span>
                                            <span class="stat"> 15 thanks</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="study">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-brain"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Practice test completed</h4>
                                    <p>Scored 85% on <strong>"Physics Mock Test"</strong></p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">3 days ago</span>
                                        <div class="test-result">
                                            <span class="score-badge">85%</span>
                                            <span class="improvement">+12% from last attempt</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="social">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-calendar-plus"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Created study event</h4>
                                    <p>Organized <strong>"Study Problem Solving Session"</strong> for Nov 6</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">3 days ago</span>
                                        <div class="event-stats">
                                            <span class="attendees">12 attending</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="achievements">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-star"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Reached milestone</h4>
                                    <p>Completed <strong>100 hours</strong> of total study time</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">4 days ago</span>
                                        <div class="milestone-badge">Century Club Member</div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="study">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-book-open"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Completed chapter</h4>
                                    <p>Finished studying <strong>"Physics Chapter"</strong> with 95% accuracy</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">5 days ago</span>
                                        <div class="chapter-progress">
                                            <span class="accuracy">95% accuracy</span>
                                            <span class="time-spent">3h 20m</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-item" data-type="social">
                                <div class="timeline-marker">
                                    <i class="fa-solid fa-handshake"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4>Study buddy match</h4>
                                    <p>Connected with <strong>Study Partner</strong> for Math preparation</p>
                                    <div class="activity-meta">
                                        <span class="timeline-time">6 days ago</span>
                                        <div class="compatibility">98% compatibility</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="load-more-container">
                            <button class="load-more-btn" onclick="loadMoreActivity()">
                                <i class="fa-solid fa-arrow-down"></i>
                                Load More Activity
                            </button>
                        </div>
                    </div>

                    
                    <div class="tab-panel" id="preferences">
                        <div class="preferences-grid">
                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-bell"></i>
                                    Notifications
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Email Notifications</h4>
                                            <p>Receive updates via email</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Push Notifications</h4>
                                            <p>Browser notifications for updates</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Study Reminders</h4>
                                            <p>Daily study session reminders</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-shield-alt"></i>
                                    Privacy
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Profile Visibility</h4>
                                            <p>Who can see your profile</p>
                                        </div>
                                        <select class="preference-select">
                                            <option value="public" selected>Public</option>
                                            <option value="groups">Study Groups Only</option>
                                            <option value="private">Private</option>
                                        </select>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Activity Status</h4>
                                            <p>Show when you're online</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-palette"></i>
                                    Appearance
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Theme</h4>
                                            <p>Choose your preferred theme</p>
                                        </div>
                                        <select class="preference-select">
                                            <option value="dark" selected>Dark Mode</option>
                                            <option value="light">Light Mode</option>
                                            <option value="auto">Auto (System)</option>
                                        </select>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Language</h4>
                                            <p>Interface language preference</p>
                                        </div>
                                        <select class="preference-select">
                                            <option value="en" selected>English</option>
                                            <option value="es">Spanish</option>
                                            <option value="fr">French</option>
                                            <option value="de">German</option>
                                            <option value="hi">Hindi</option>
                                        </select>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Animations</h4>
                                            <p>Enable smooth animations and transitions</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-database"></i>
                                    Data & Storage
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Data Usage</h4>
                                            <p>View your StudyBuddy data usage</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="viewDataUsage()">
                                            <i class="fa-solid fa-chart-pie"></i>
                                            View Usage
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Export Data</h4>
                                            <p>Download a copy of your data</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="exportUserData()">
                                            <i class="fa-solid fa-download"></i>
                                            Export Data
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Clear Cache</h4>
                                            <p>Clear stored data to free up space</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="clearCache()">
                                            <i class="fa-solid fa-trash-can"></i>
                                            Clear Cache
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-shield-check"></i>
                                    Security & Login
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Change Password</h4>
                                            <p>Update your account password</p>
                                        </div>
                                        <button class="preference-btn primary" onclick="changePassword()">
                                            <i class="fa-solid fa-key"></i>
                                            Change Password
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Two-Factor Authentication</h4>
                                            <p>Add extra security to your account</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="setup2FA()">
                                            <i class="fa-solid fa-mobile-screen"></i>
                                            Setup 2FA
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Login Sessions</h4>
                                            <p>View and manage active sessions</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="viewSessions()">
                                            <i class="fa-solid fa-devices"></i>
                                            View Sessions
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>API Access</h4>
                                            <p>Manage third-party app permissions</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="manageAPI()">
                                            <i class="fa-solid fa-plug"></i>
                                            Manage API
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-bell-slash"></i>
                                    Communication Preferences
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Marketing Emails</h4>
                                            <p>Receive updates about new features</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Weekly Digest</h4>
                                            <p>Summary of your study activity</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>SMS Notifications</h4>
                                            <p>Text messages for important updates</p>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section">
                                <h3>
                                    <i class="fa-solid fa-question-circle"></i>
                                    Help & Support
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Contact Support</h4>
                                            <p>Get help with your account</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="contactSupport()">
                                            <i class="fa-solid fa-headset"></i>
                                            Contact Support
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Report a Problem</h4>
                                            <p>Report bugs or issues</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="reportProblem()">
                                            <i class="fa-solid fa-bug"></i>
                                            Report Problem
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Feedback</h4>
                                            <p>Share your thoughts and suggestions</p>
                                        </div>
                                        <button class="preference-btn secondary" onclick="provideFeedback()">
                                            <i class="fa-solid fa-comment"></i>
                                            Send Feedback
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="preference-section danger-section">
                                <h3>
                                    <i class="fa-solid fa-sign-out-alt"></i>
                                    Account Actions
                                </h3>
                                <div class="preference-items">
                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Sign Out</h4>
                                            <p>Sign out of your StudyBuddy account</p>
                                        </div>
                                        <button class="preference-btn logout" onclick="signOut()">
                                            <i class="fa-solid fa-sign-out-alt"></i>
                                            Sign Out
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Sign Out All Devices</h4>
                                            <p>Sign out of all logged-in devices</p>
                                        </div>
                                        <button class="preference-btn logout" onclick="signOutAll()">
                                            <i class="fa-solid fa-power-off"></i>
                                            Sign Out All
                                        </button>
                                    </div>

                                    <div class="preference-item">
                                        <div class="preference-info">
                                            <h4>Deactivate Account</h4>
                                            <p>Temporarily disable your account</p>
                                        </div>
                                        <button class="preference-btn danger" onclick="deactivateAccount()">
                                            <i class="fa-solid fa-user-slash"></i>
                                            Deactivate
                                        </button>
                                    </div>

                                    <div class="preference-item danger-item">
                                        <div class="preference-info">
                                            <h4>Delete Account</h4>
                                            <p>Permanently delete your account and all data</p>
                                            <small class="warning-text"> This action cannot be undone</small>
                                        </div>
                                        <button class="preference-btn delete" onclick="deleteAccount()">
                                            <i class="fa-solid fa-trash"></i>
                                            Delete Account
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        
        <div class="profile-modal-overlay" id="profileModal" style="display: none;">
            <div class="profile-modal">
                <div class="profile-modal-header">
                    <h2><i class="fa-solid fa-user-edit"></i> Edit Profile</h2>
                    <button class="modal-close" id="closeProfileModal">&times;</button>
                </div>
                
                <div class="profile-modal-body">
                    <div class="profile-step" id="profileStep1">
                        <h3>Step 1: Profile Information</h3>
                        <div class="profile-edit-sections">
                            <div class="profile-section" data-section="basic">
                                <i class="fa-solid fa-user"></i>
                                <h4>Basic Information</h4>
                                <p>Name, title, and contact details</p>
                                <div class="section-features">
                                    <span class="feature-tag">Name</span>
                                    <span class="feature-tag">Title</span>
                                    <span class="feature-tag">Email</span>
                                </div>
                            </div>
                            
                            <div class="profile-section" data-section="academic">
                                <i class="fa-solid fa-graduation-cap"></i>
                                <h4>Academic Details</h4>
                                <p>University, major, and academic info</p>
                                <div class="section-features">
                                    <span class="feature-tag">University</span>
                                    <span class="feature-tag">Major</span>
                                    <span class="feature-tag">Year</span>
                                </div>
                            </div>
                            
                            <div class="profile-section" data-section="photo">
                                <i class="fa-solid fa-camera"></i>
                                <h4>Profile Photo</h4>
                                <p>Upload or change profile picture</p>
                                <div class="section-features">
                                    <span class="feature-tag">Upload</span>
                                    <span class="feature-tag">Crop</span>
                                    <span class="feature-tag">Preview</span>
                                </div>
                            </div>

                            <div class="profile-section" data-section="preferences">
                                <i class="fa-solid fa-cog"></i>
                                <h4>Preferences</h4>
                                <p>Notification and privacy settings</p>
                                <div class="section-features">
                                    <span class="feature-tag">Notifications</span>
                                    <span class="feature-tag">Privacy</span>
                                    <span class="feature-tag">Theme</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="profile-step" id="profileStep2" style="display: none;">
                        <h3>Step 2: Edit Details</h3>
                        <div class="selected-section-info">
                            <i id="selectedSectionIcon" class="fa-solid fa-user"></i>
                            <span id="selectedSectionName">Section</span>
                        </div>
                        
                        
                        <div class="edit-form" id="basicForm" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName"><i class="fa-solid fa-user"></i> First Name *</label>
                                    <input type="text" id="firstName" placeholder="Enter first name" value="Alex" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="lastName"><i class="fa-solid fa-user"></i> Last Name *</label>
                                    <input type="text" id="lastName" placeholder="Enter last name" value="Johnson" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="email"><i class="fa-solid fa-envelope"></i> Email *</label>
                                    <input type="email" id="email" placeholder="Enter email address" value="alex.johnson@student.mit.edu" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="phone"><i class="fa-solid fa-phone"></i> Phone (Optional)</label>
                                    <input type="tel" id="phone" placeholder="Enter phone number" value="+1 (555) 123-4567">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="profileTitle"><i class="fa-solid fa-id-badge"></i> Professional Title</label>
                                <input type="text" id="profileTitle" placeholder="e.g., Computer Science Student" value="">
                            </div>

                            <div class="form-group">
                                <label for="bio"><i class="fa-solid fa-align-left"></i> Bio (Optional)</label>
                                <textarea id="bio" rows="3" placeholder="Tell others about yourself, your interests, and study goals..."></textarea>
                            </div>
                        </div>

                        
                        <div class="edit-form" id="academicForm" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="university"><i class="fa-solid fa-university"></i> University *</label>
                                    <input type="text" id="university" placeholder="Enter university name" value="Massachusetts Institute of Technology (MIT)" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="graduationYear"><i class="fa-solid fa-calendar"></i> Graduation Year *</label>
                                    <select id="graduationYear" required>
                                        <option value="">Select Year</option>
                                        <option value="2024">2024</option>
                                        <option value="2025">2025</option>
                                        <option value="2026" selected>2026</option>
                                        <option value="2027">2027</option>
                                        <option value="2028">2028</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="major"><i class="fa-solid fa-book"></i> Major *</label>
                                    <select id="major" required>
                                        <option value="">Select Major</option>
                                        <option value="mechanical-engineering">Mechanical Engineering</option>
                                        <option value="electrical-engineering">Electrical Engineering</option>
                                        <option value="computer-science">Computer Science</option>
                                        <option value="civil-engineering">Civil Engineering</option>
                                        <option value="chemical-engineering">Chemical Engineering</option>
                                        <option value="mathematics">Mathematics</option>
                                        <option value="physics">Physics</option>
                                        <option value="chemistry">Chemistry</option>
                                        <option value="biology">Biology</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="academicLevel"><i class="fa-solid fa-layer-group"></i> Academic Level *</label>
                                    <select id="academicLevel" required>
                                        <option value="">Select Level</option>
                                        <option value="freshman">Freshman</option>
                                        <option value="sophomore">Sophomore</option>
                                        <option value="junior" selected>Junior</option>
                                        <option value="senior">Senior</option>
                                        <option value="graduate">Graduate</option>
                                        <option value="phd">PhD</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="gpa"><i class="fa-solid fa-chart-line"></i> GPA (Optional)</label>
                                <input type="number" id="gpa" min="0" max="4" step="0.01" placeholder="e.g., 3.75" value="3.82">
                            </div>

                            <div class="form-group">
                                <label for="interests"><i class="fa-solid fa-heart"></i> Academic Interests</label>
                                <input type="text" id="interests" placeholder="e.g., Renewable Energy, Robotics, AI" value="Renewable Energy, Thermodynamics, Robotics">
                            </div>
                        </div>

                        
                        <div class="edit-form" id="photoForm" style="display: none;">
                            <div class="current-photo">
                                <h4>Current Profile Picture</h4>
                                <div class="photo-preview">
                                    <img id="currentProfilePic" src="profileImage.jpg" alt="Current Profile" class="preview-image" onerror="this.src='https://via.placeholder.com/150x150?text=No+Image'"
                                </div>
                            </div>

                            <div class="photo-upload-area" id="photoUploadArea">
                                <div class="upload-placeholder">
                                    <i class="fa-solid fa-camera"></i>
                                    <h4>Upload New Profile Picture</h4>
                                    <p>Drag & drop an image or <button class="btn-browse" id="browsePicture">browse files</button></p>
                                    <input type="file" id="pictureInput" accept="image/*" style="display: none;">
                                    <small>Recommended: Square image, at least 300x300px</small>
                                </div>
                            </div>

                            <div class="photo-preview-section" id="photoPreviewSection" style="display: none;">
                                <h4>Preview</h4>
                                <div class="photo-preview">
                                    <img id="newProfilePic" src="" alt="New Profile" class="preview-image">
                                </div>
                                <div class="photo-actions">
                                    <button class="btn-remove-photo" id="removePhoto">
                                        <i class="fa-solid fa-times"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>

                        
                        <div class="edit-form" id="preferencesForm" style="display: none;">
                            <h4>Notification Settings</h4>
                            <div class="preference-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="emailNotifications" checked>
                                    <span>Email Notifications</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="desktopNotifications">
                                    <span>Desktop Notifications</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="studyReminders" checked>
                                    <span>Study Reminders</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="groupUpdates" checked>
                                    <span>Group Updates</span>
                                </label>
                            </div>

                            <h4>Privacy Settings</h4>
                            <div class="privacy-options">
                                <div class="form-group">
                                    <label for="profileVisibility"><i class="fa-solid fa-eye"></i> Profile Visibility</label>
                                    <select id="profileVisibility">
                                        <option value="public" selected>Public</option>
                                        <option value="groups">Study Groups Only</option>
                                        <option value="private">Private</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="contactVisibility"><i class="fa-solid fa-envelope"></i> Contact Info Visibility</label>
                                    <select id="contactVisibility">
                                        <option value="public">Public</option>
                                        <option value="groups" selected>Study Groups Only</option>
                                        <option value="private">Private</option>
                                    </select>
                                </div>
                            </div>

                            <h4>Study Preferences</h4>
                            <div class="study-preferences">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="availableForHelp" checked>
                                    <span>Available to help others</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="openToCollaboration" checked>
                                    <span>Open to collaboration</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="shareResources" checked>
                                    <span>Share my resources publicly</span>
                                </label>
                            </div>
                        </div>

                        <div class="profile-actions">
                            <button class="btn btn-back" id="profileBackBtn">
                                <i class="fa-solid fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-save-profile" id="saveProfileBtn" disabled>
                                <i class="fa-solid fa-save"></i> Save Changes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/api-client.js"></script>
    <script src="../js/script.js"></script>
    <script>
        
        
        
        class MobileNavigation {
            constructor() {
                this.overlay = document.getElementById('mobileNavOverlay');
                this.toggle = document.getElementById('navToggle');
                this.close = document.getElementById('mobileNavClose');
                this.isOpen = false;
                
                this.init();
            }
            
            init() {
                
                if (this.toggle) {
                    this.toggle.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.toggleMenu();
                    });
                }
                
                
                if (this.close) {
                    this.close.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.closeMenu();
                    });
                }
                
                
                if (this.overlay) {
                    this.overlay.addEventListener('click', (e) => {
                        if (e.target === this.overlay) {
                            this.closeMenu();
                        }
                    });
                }
                
                
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.isOpen) {
                        this.closeMenu();
                    }
                });
                
                
                const navLinks = this.overlay?.querySelectorAll('.mobile-nav-link');
                navLinks?.forEach(link => {
                    link.addEventListener('click', () => {
                        this.closeMenu();
                    });
                });
            }
            
            toggleMenu() {
                if (this.isOpen) {
                    this.closeMenu();
                } else {
                    this.openMenu();
                }
            }
            
            openMenu() {
                if (!this.overlay) return;
                
                this.isOpen = true;
                this.overlay.classList.add('active');
                
                
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
            }
            
            closeMenu() {
                if (!this.overlay) return;
                
                this.isOpen = false;
                this.overlay.classList.remove('active');
                
                
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }
        }
        
        
        document.addEventListener('DOMContentLoaded', () => {
            const mobileNav = new MobileNavigation();
        });

        
        
        

        class InteractiveProfile {
            constructor() {
                this.init();
            }

            init() {
                this.initStatCounters();
                this.initProgressBars();
                this.initTabSwitching();
                this.initHoverEffects();
                this.initProfileActions();
                this.setupIntersectionObserver();
                this.initModalEventListeners();
            }

            
            initStatCounters() {
                const statNumbers = document.querySelectorAll('.stat-number');
                
                statNumbers.forEach(stat => {
                    const target = parseInt(stat.getAttribute('data-target'));
                    let current = 0;
                    const increment = target / 100;
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            current = target;
                            clearInterval(timer);
                        }
                        stat.textContent = Math.floor(current);
                    }, 20);
                });
            }

            
            initProgressBars() {
                setTimeout(() => {
                    const progressBars = document.querySelectorAll('.progress-bar[data-progress]');
                    progressBars.forEach(bar => {
                        const progress = bar.getAttribute('data-progress');
                        bar.style.width = progress + '%';
                    });
                }, 500);
            }

            
            initTabSwitching() {
                const tabBtns = document.querySelectorAll('.tab-btn');
                const tabPanels = document.querySelectorAll('.tab-panel');

                tabBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        
                        tabBtns.forEach(b => b.classList.remove('active'));
                        tabPanels.forEach(p => p.classList.remove('active'));

                        
                        btn.classList.add('active');
                        
                        
                        const targetTab = btn.getAttribute('data-tab');
                        const targetPanel = document.getElementById(targetTab);
                        if (targetPanel) {
                            targetPanel.classList.add('active');
                        }

                        
                        if (targetTab === 'achievements') {
                            this.animateAchievements();
                        } else if (targetTab === 'activity') {
                            this.animateTimeline();
                        }
                    });
                });
            }

            
            initHoverEffects() {
                const statCards = document.querySelectorAll('.stat-card');
                
                statCards.forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        card.style.transform = 'translateY(-8px) scale(1.02)';
                        
                        
                        const icon = card.querySelector('.stat-icon');
                        if (icon) {
                            icon.style.animation = 'pulse 0.5s ease';
                        }
                    });

                    card.addEventListener('mouseleave', () => {
                        card.style.transform = 'translateY(0) scale(1)';
                        
                        
                        const icon = card.querySelector('.stat-icon');
                        if (icon) {
                            icon.style.animation = '';
                        }
                    });

                    
                    card.addEventListener('click', () => {
                        const statType = card.getAttribute('data-stat');
                        this.showStatDetails(statType);
                    });
                });
            }

            
            initProfileActions() {
                
                const avatarEditBtn = document.getElementById('avatarEditBtn');
                const profileAvatar = document.getElementById('profileAvatar');
                
                if (avatarEditBtn) {
                    avatarEditBtn.addEventListener('click', () => {
                        this.showAvatarUpload();
                    });
                }

                if (profileAvatar) {
                    profileAvatar.addEventListener('click', () => {
                        this.showAvatarUpload();
                    });
                }

                
                const nameEditBtn = document.getElementById('nameEditBtn');
                if (nameEditBtn) {
                    nameEditBtn.addEventListener('click', () => {
                        this.enableNameEdit();
                    });
                }

                
                const toggles = document.querySelectorAll('.toggle-switch input');
                toggles.forEach(toggle => {
                    toggle.addEventListener('change', (e) => {
                        this.handlePreferenceChange(e.target);
                    });
                });
            }

            
            setupIntersectionObserver() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-in');
                        }
                    });
                }, { threshold: 0.1 });

                const animateElements = document.querySelectorAll('.stat-card, .achievement-card, .overview-card');
                animateElements.forEach(el => observer.observe(el));
            }

            
            initModalEventListeners() {
                
                const closeBtn = document.getElementById('closeProfileModal');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => this.closeModal());
                }
                
                
                const modal = document.getElementById('profileModal');
                if (modal) {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            this.closeModal();
                        }
                    });
                }
                
                
                document.querySelectorAll('.profile-section').forEach(section => {
                    section.addEventListener('click', () => this.selectProfileSection(section));
                });
                
                
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && modal.style.display === 'block') {
                        this.closeModal();
                    }
                });
                
                
                const browseBtn = document.getElementById('browsePicture');
                if (browseBtn) {
                    browseBtn.addEventListener('click', () => {
                        document.getElementById('pictureInput').click();
                    });
                }
                
                const pictureInput = document.getElementById('pictureInput');
                if (pictureInput) {
                    pictureInput.addEventListener('change', () => this.handlePhotoUpload());
                }
                
                const removePhotoBtn = document.getElementById('removePhoto');
                if (removePhotoBtn) {
                    removePhotoBtn.addEventListener('click', () => this.removePhoto());
                }
                
                
                const uploadArea = document.getElementById('photoUploadArea');
                if (uploadArea) {
                    uploadArea.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        uploadArea.classList.add('drag-over');
                    });
                    
                    uploadArea.addEventListener('dragleave', () => {
                        uploadArea.classList.remove('drag-over');
                    });
                    
                    uploadArea.addEventListener('drop', (e) => {
                        e.preventDefault();
                        uploadArea.classList.remove('drag-over');
                        
                        const files = e.dataTransfer.files;
                        if (files.length > 0 && files[0].type.startsWith('image/')) {
                            document.getElementById('pictureInput').files = files;
                            this.handlePhotoUpload();
                        }
                    });
                }
                
                
                const step2 = document.getElementById('profileStep2');
                if (step2) {
                    const backBtn = document.createElement('button');
                    backBtn.className = 'btn-secondary back-btn';
                    backBtn.innerHTML = '<i class="fa-solid fa-arrow-left"></i> Back to Sections';
                    backBtn.addEventListener('click', () => this.goBackToStep1());
                    
                    step2.insertBefore(backBtn, step2.firstChild);
                }
                
                
                const saveBtn = document.createElement('button');
                saveBtn.className = 'btn-primary save-btn';
                saveBtn.innerHTML = '<i class="fa-solid fa-save"></i> Save Changes';
                saveBtn.addEventListener('click', () => this.saveProfileChanges());
                
                
                let modalFooter = modal.querySelector('.profile-modal-footer');
                if (!modalFooter) {
                    modalFooter = document.createElement('div');
                    modalFooter.className = 'profile-modal-footer';
                    modalFooter.innerHTML = `
                        <button class="btn-secondary" onclick="interactiveProfile.closeModal()">
                            Cancel
                        </button>
                    `;
                    modal.querySelector('.profile-modal').appendChild(modalFooter);
                }
                modalFooter.appendChild(saveBtn);
                
                
                const existingBackBtn = document.getElementById('profileBackBtn');
                if (existingBackBtn) {
                    existingBackBtn.addEventListener('click', () => this.goBackToStep1());
                }
                
                const existingSaveBtn = document.getElementById('saveProfileBtn');
                if (existingSaveBtn) {
                    existingSaveBtn.addEventListener('click', () => this.saveProfileChanges());
                }
                
                
                const formInputs = document.querySelectorAll('#profileModal input, #profileModal select, #profileModal textarea');
                formInputs.forEach(input => {
                    input.addEventListener('input', () => {
                        const saveBtn = document.getElementById('saveProfileBtn');
                        if (saveBtn) {
                            saveBtn.disabled = false;
                        }
                    });
                });
            }

            
            showStatDetails(statType) {
                const details = {
                    groups: 'You are active in 12 study groups across various subjects including Mathematics, Computer Science, and Physics.',
                    hours: 'You have studied for 187 hours this month, with an average of 6.2 hours per day.',
                    resources: 'You have shared 43 helpful resources with your study groups, helping fellow students.',
                    achievements: 'You have unlocked 8 achievements, showing your dedication to learning and collaboration.'
                };

                const message = details[statType] || 'Great progress on your studies!';
                this.showNotification(message, 'info');
            }

            
            showAvatarUpload() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            const avatarImage = document.querySelector('.avatar-image');
                            const avatarFallback = document.querySelector('.avatar-fallback');
                            
                            if (avatarImage) {
                                avatarImage.src = e.target.result;
                                avatarImage.style.display = 'block';
                                if (avatarFallback) {
                                    avatarFallback.style.display = 'none';
                                }
                            }
                            
                            this.showNotification('Profile picture updated successfully!', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            }

            
            enableNameEdit() {
                const nameText = document.getElementById('profileName');
                if (nameText) {
                    const currentName = nameText.textContent;
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = currentName;
                    input.style.background = 'rgba(255, 255, 255, 0.1)';
                    input.style.border = '2px solid #667eea';
                    input.style.borderRadius = '8px';
                    input.style.padding = '0.5rem';
                    input.style.color = '#ffffff';
                    input.style.fontSize = 'inherit';
                    input.style.fontWeight = 'inherit';
                    
                    nameText.textContent = '';
                    nameText.appendChild(input);
                    input.focus();
                    input.select();

                    const saveEdit = () => {
                        const newName = input.value.trim();
                        if (newName) {
                            nameText.textContent = newName;
                            this.showNotification('Name updated successfully!', 'success');
                        } else {
                            nameText.textContent = currentName;
                        }
                    };

                    input.addEventListener('blur', saveEdit);
                    input.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter') {
                            saveEdit();
                        } else if (e.key === 'Escape') {
                            nameText.textContent = currentName;
                        }
                    });
                }
            }

            
            showEditModal() {
                console.log('Opening modal...');
                const modal = document.getElementById('profileModal');
                
                
                document.body.style.overflow = 'hidden';
                
                
                this.resetModalSteps();
                
                
                modal.style.display = 'block';
                modal.style.opacity = '1';
                modal.style.visibility = 'visible';
                
                
                this.smartPositionModal(modal);
                
                
                modal.classList.add('active');
                
                
                setTimeout(() => {
                    this.forceStepVisibility();
                    this.smartPositionModal(modal);
                    console.log('Modal should be centered now');
                }, 10);
            }

            
            smartPositionModal(modal) {
                const modalContent = modal.querySelector('.profile-modal');
                if (!modalContent) return;
                
                console.log('Positioning modal...');
                
                
                const vw = window.innerWidth;
                const vh = window.innerHeight;
                
                
                modalContent.style.position = 'fixed';
                modalContent.style.top = '50vh';
                modalContent.style.left = '50vw';
                modalContent.style.transform = 'translate(-50%, -50%)';
                modalContent.style.zIndex = '99999';
                modalContent.style.maxWidth = '90vw';
                modalContent.style.maxHeight = '90vh';
                
                
                modalContent.style.visibility = 'visible';
                modalContent.style.display = 'flex';
                
                console.log(`Modal forced to center: 50vh, 50vw in ${vw}x${vh} viewport`);
            }

            
            forceStepVisibility() {
                const step1 = document.getElementById('profileStep1');
                const step2 = document.getElementById('profileStep2');
                
                if (step1) {
                    step1.style.display = 'block';
                    step1.style.visibility = 'visible';
                    step1.classList.remove('hidden');
                }
                if (step2) {
                    step2.style.display = 'none';
                    step2.style.visibility = 'hidden';
                    step2.classList.add('hidden');
                }
                
                console.log('Force step visibility - Step 1 visible, Step 2 hidden');
            }

            
            resetModalSteps() {
                const step1 = document.getElementById('profileStep1');
                const step2 = document.getElementById('profileStep2');
                
                if (step1) {
                    step1.classList.add('visible');
                    step1.classList.remove('hidden');
                    step1.style.display = 'block';
                }
                if (step2) {
                    step2.classList.add('hidden');
                    step2.classList.remove('visible');
                    step2.style.display = 'none';
                }
                
                
                document.querySelectorAll('.edit-form').forEach(form => {
                    form.style.display = 'none';
                });

                
                document.querySelectorAll('.profile-section').forEach(section => {
                    section.classList.remove('selected');
                });
                
                console.log('Modal reset - Step 1 visible, Step 2 hidden');
            }

            
            closeModal() {
                const modal = document.getElementById('profileModal');
                modal.classList.remove('active');
                
                
                if (this.resizeListener) {
                    window.removeEventListener('resize', this.resizeListener);
                    window.removeEventListener('scroll', this.resizeListener);
                    this.resizeListener = null;
                }
                
                
                document.body.style.overflow = '';
                
                setTimeout(() => {
                    modal.style.display = 'none';
                    modal.scrollTop = 0;
                }, 300);
            }

            
            selectProfileSection(section) {
                const sectionElement = section.closest('.profile-section');
                const sectionType = sectionElement.dataset.section;
                
                
                document.querySelectorAll('.profile-section').forEach(s => s.classList.remove('selected'));
                sectionElement.classList.add('selected');
                
                
                const step1 = document.getElementById('profileStep1');
                const step2 = document.getElementById('profileStep2');
                
                step1.classList.add('hidden');
                step1.classList.remove('visible');
                step1.style.display = 'none';
                
                step2.classList.add('visible');
                step2.classList.remove('hidden');
                step2.style.display = 'block';
                
                
                const iconClass = sectionElement.querySelector('i').className;
                const sectionName = sectionElement.querySelector('h4').textContent;
                
                document.getElementById('selectedSectionIcon').className = iconClass;
                document.getElementById('selectedSectionName').textContent = sectionName;
                
                
                this.showEditForm(sectionType);
            }

            
            showEditForm(sectionType) {
                
                document.querySelectorAll('.edit-form').forEach(form => {
                    form.style.display = 'none';
                });
                
                
                const formId = sectionType + 'Form';
                const form = document.getElementById(formId);
                if (form) {
                    form.style.display = 'block';
                }
            }

            
            goBackToStep1() {
                const step1 = document.getElementById('profileStep1');
                const step2 = document.getElementById('profileStep2');
                
                step2.classList.add('hidden');
                step2.classList.remove('visible');
                step2.style.display = 'none';
                
                step1.classList.add('visible');
                step1.classList.remove('hidden');
                step1.style.display = 'block';
                
                
                document.querySelectorAll('.profile-section').forEach(section => {
                    section.classList.remove('selected');
                });
            }

            
            handlePhotoUpload() {
                const fileInput = document.getElementById('pictureInput');
                const file = fileInput.files[0];
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const newPic = document.getElementById('newProfilePic');
                        newPic.src = e.target.result;
                        
                        document.getElementById('photoPreviewSection').style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            }

            
            removePhoto() {
                document.getElementById('photoPreviewSection').style.display = 'none';
                document.getElementById('pictureInput').value = '';
                document.getElementById('newProfilePic').src = '';
            }

            
            saveProfileChanges() {
                
                const profileData = this.collectFormData();
                
                
                setTimeout(() => {
                    this.showNotification('Profile updated successfully!', 'success');
                    this.closeModal();
                    this.updateProfileDisplay(profileData);
                }, 500);
            }

            
            collectFormData() {
                const data = {};
                
                
                data.firstName = document.getElementById('firstName')?.value || '';
                data.lastName = document.getElementById('lastName')?.value || '';
                data.email = document.getElementById('email')?.value || '';
                data.phone = document.getElementById('phone')?.value || '';
                data.profileTitle = document.getElementById('profileTitle')?.value || '';
                data.bio = document.getElementById('bio')?.value || '';
                
                
                data.university = document.getElementById('university')?.value || '';
                data.graduationYear = document.getElementById('graduationYear')?.value || '';
                data.major = document.getElementById('major')?.value || '';
                data.academicLevel = document.getElementById('academicLevel')?.value || '';
                data.gpa = document.getElementById('gpa')?.value || '';
                data.interests = document.getElementById('interests')?.value || '';
                
                return data;
            }

            
            updateProfileDisplay(data) {
                if (data.firstName && data.lastName) {
                    document.querySelector('.profile-name').textContent = `${data.firstName} ${data.lastName}`;
                }
                if (data.university) {
                    document.querySelector('.profile-university').textContent = data.university;
                }
                if (data.major) {
                    document.querySelector('.profile-major').textContent = data.major;
                }
                if (data.academicLevel) {
                    document.querySelector('.profile-level').textContent = data.academicLevel;
                }
            }

            
            showAdvancedSettings() {
                
                const settingsModal = this.createSettingsModal();
                document.body.appendChild(settingsModal);
                setTimeout(() => settingsModal.classList.add('active'), 10);
            }

            
            createSettingsModal() {
                const modal = document.createElement('div');
                modal.className = 'settings-modal-overlay';
                modal.innerHTML = `
                    <div class="settings-modal">
                        <div class="settings-modal-header">
                            <h2><i class="fa-solid fa-cog"></i> Advanced Settings</h2>
                            <button class="modal-close" onclick="this.closest('.settings-modal-overlay').remove()">&times;</button>
                        </div>
                        
                        <div class="settings-modal-body">
                            <div class="settings-categories">
                                <div class="settings-category active" data-category="account">
                                    <i class="fa-solid fa-user"></i>
                                    <span>Account Settings</span>
                                </div>
                                <div class="settings-category" data-category="privacy">
                                    <i class="fa-solid fa-shield"></i>
                                    <span>Privacy & Security</span>
                                </div>
                                <div class="settings-category" data-category="notifications">
                                    <i class="fa-solid fa-bell"></i>
                                    <span>Notifications</span>
                                </div>
                                <div class="settings-category" data-category="data">
                                    <i class="fa-solid fa-database"></i>
                                    <span>Data Management</span>
                                </div>
                                <div class="settings-category" data-category="advanced">
                                    <i class="fa-solid fa-tools"></i>
                                    <span>Advanced</span>
                                </div>
                            </div>
                            
                            <div class="settings-content">
                                <div class="settings-panel active" id="account-panel">
                                    <h3>Account Settings</h3>
                                    <div class="setting-group">
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Change Password</h4>
                                                <p>Update your account password</p>
                                            </div>
                                            <button class="btn-secondary" onclick="interactiveProfile.changePassword()">
                                                <i class="fa-solid fa-key"></i> Change
                                            </button>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Two-Factor Authentication</h4>
                                                <p>Add extra security to your account</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" onchange="interactiveProfile.toggle2FA(this)">
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Account Deactivation</h4>
                                                <p>Temporarily disable your account</p>
                                            </div>
                                            <button class="btn-warning" onclick="interactiveProfile.deactivateAccount()">
                                                <i class="fa-solid fa-pause"></i> Deactivate
                                            </button>
                                        </div>
                                        
                                        <div class="setting-item danger">
                                            <div class="setting-info">
                                                <h4>Delete Account</h4>
                                                <p>Permanently delete your account and all data</p>
                                            </div>
                                            <button class="btn-danger" onclick="interactiveProfile.deleteAccount()">
                                                <i class="fa-solid fa-trash"></i> Delete
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="settings-panel" id="privacy-panel">
                                    <h3>Privacy & Security</h3>
                                    <div class="setting-group">
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Profile Visibility</h4>
                                                <p>Control who can see your profile</p>
                                            </div>
                                            <select class="form-select" onchange="interactiveProfile.updatePrivacy(this, 'visibility')">
                                                <option value="public">Public</option>
                                                <option value="friends">Friends Only</option>
                                                <option value="private" selected>Private</option>
                                            </select>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Show Online Status</h4>
                                                <p>Let others see when you're online</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" onchange="interactiveProfile.updatePrivacy(this, 'online-status')">
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Data Analytics</h4>
                                                <p>Allow anonymous usage analytics</p>
                                            </div>
                                            <label class="toggle-switch">
                                                <input type="checkbox" checked onchange="interactiveProfile.updatePrivacy(this, 'analytics')">
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="settings-panel" id="data-panel">
                                    <h3>Data Management</h3>
                                    <div class="setting-group">
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Export Data</h4>
                                                <p>Download all your data</p>
                                            </div>
                                            <button class="btn-secondary" onclick="interactiveProfile.exportData()">
                                                <i class="fa-solid fa-download"></i> Export
                                            </button>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Import Data</h4>
                                                <p>Import data from other platforms</p>
                                            </div>
                                            <button class="btn-secondary" onclick="interactiveProfile.importData()">
                                                <i class="fa-solid fa-upload"></i> Import
                                            </button>
                                        </div>
                                        
                                        <div class="setting-item">
                                            <div class="setting-info">
                                                <h4>Clear Cache</h4>
                                                <p>Clear stored application data</p>
                                            </div>
                                            <button class="btn-warning" onclick="interactiveProfile.clearCache()">
                                                <i class="fa-solid fa-broom"></i> Clear
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-modal-footer">
                            <button class="btn-secondary" onclick="this.closest('.settings-modal-overlay').remove()">
                                Cancel
                            </button>
                            <button class="btn-primary" onclick="interactiveProfile.saveAllSettings()">
                                <i class="fa-solid fa-save"></i> Save All Changes
                            </button>
                        </div>
                    </div>
                `;
                
                
                modal.querySelectorAll('.settings-category').forEach(category => {
                    category.addEventListener('click', () => this.switchSettingsCategory(category));
                });
                
                return modal;
            }

            
            switchSettingsCategory(categoryElement) {
                const category = categoryElement.dataset.category;
                
                
                document.querySelectorAll('.settings-category').forEach(cat => cat.classList.remove('active'));
                categoryElement.classList.add('active');
                
                
                document.querySelectorAll('.settings-panel').forEach(panel => panel.classList.remove('active'));
                const panel = document.getElementById(category + '-panel');
                if (panel) panel.classList.add('active');
            }

            
            changePassword() {
                this.showNotification('Password change dialog would open here', 'info');
            }

            toggle2FA(toggle) {
                const status = toggle.checked ? 'enabled' : 'disabled';
                this.showNotification(`Two-factor authentication ${status}`, 'success');
            }

            updatePrivacy(element, setting) {
                const value = element.type === 'checkbox' ? element.checked : element.value;
                this.showNotification(`Privacy setting "${setting}" updated to: ${value}`, 'success');
            }

            deactivateAccount() {
                if (confirm('Are you sure you want to deactivate your account? This action can be reversed later.')) {
                    this.showNotification('Account deactivation process would start here', 'warning');
                }
            }

            deleteAccount() {
                const confirmation = prompt('Type "DELETE" to confirm account deletion:');
                if (confirmation === 'DELETE') {
                    this.showNotification('Account deletion process would start here', 'error');
                } else if (confirmation !== null) {
                    this.showNotification('Account deletion cancelled - confirmation text did not match', 'info');
                }
            }

            exportData() {
                this.showNotification('Data export started - you will receive an email when ready', 'info');
            }

            importData() {
                this.showNotification('Data import dialog would open here', 'info');
            }

            clearCache() {
                if (confirm('Clear application cache? This may log you out and reset some preferences.')) {
                    this.showNotification('Cache cleared successfully', 'success');
                }
            }

            saveAllSettings() {
                this.showNotification('All settings saved successfully!', 'success');
                setTimeout(() => {
                    document.querySelector('.settings-modal-overlay')?.remove();
                }, 1000);
            }

            
            shareProfile() {
                if (navigator.share) {
                    navigator.share({
                        title: 'StudyBuddy Profile',
                        text: 'Check out my StudyBuddy profile!',
                        url: window.location.href
                    });
                } else {
                    
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        this.showNotification('Profile link copied to clipboard!', 'success');
                    });
                }
            }

            
            handlePreferenceChange(toggle) {
                const isEnabled = toggle.checked;
                const settingName = toggle.closest('.preference-item').querySelector('h4').textContent;
                
                this.showNotification(
                    `${settingName} ${isEnabled ? 'enabled' : 'disabled'}`, 
                    'success'
                );
            }

            
            animateAchievements() {
                const achievementCards = document.querySelectorAll('.achievement-card');
                achievementCards.forEach((card, index) => {
                    card.style.animationDelay = `${index * 0.1}s`;
                    card.classList.add('slide-in-up');
                });
            }

            
            animateTimeline() {
                const timelineItems = document.querySelectorAll('.timeline-item');
                timelineItems.forEach((item, index) => {
                    item.style.animationDelay = `${index * 0.1}s`;
                    item.classList.add('slide-in-left');
                });
            }

            
            switchToPreferences() {
                console.log('Switching to preferences manually...');
                
                
                const tabBtns = document.querySelectorAll('.tab-btn');
                const tabPanels = document.querySelectorAll('.tab-panel');
                
                tabBtns.forEach(btn => btn.classList.remove('active'));
                tabPanels.forEach(panel => panel.classList.remove('active'));
                
                
                const preferencesTab = document.querySelector('.tab-btn[data-tab="preferences"]');
                const preferencesPanel = document.getElementById('preferences');
                
                if (preferencesTab) preferencesTab.classList.add('active');
                if (preferencesPanel) preferencesPanel.classList.add('active');
                
                this.showNotification('Settings opened successfully!', 'success');
            }

            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fa-solid fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                notification.style.cssText = `
                    position: fixed;
                    top: 2rem;
                    right: 2rem;
                    background: ${type === 'success' ? 'rgba(34, 197, 94, 0.2)' : type === 'error' ? 'rgba(239, 68, 68, 0.2)' : 'rgba(59, 130, 246, 0.2)'};
                    border: 1px solid ${type === 'success' ? 'rgba(34, 197, 94, 0.3)' : type === 'error' ? 'rgba(239, 68, 68, 0.3)' : 'rgba(59, 130, 246, 0.3)'};
                    color: ${type === 'success' ? '#22c55e' : type === 'error' ? '#ef4444' : '#3b82f6'};
                    padding: 1rem 1.5rem;
                    border-radius: 12px;
                    backdrop-filter: blur(20px);
                    z-index: 10000;
                    transform: translateX(100%);
                    transition: transform 0.3s ease;
                    max-width: 300px;
                `;

                document.body.appendChild(notification);
                
                
                setTimeout(() => {
                    notification.style.transform = 'translateX(0)';
                }, 100);
                
                
                setTimeout(() => {
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
        }

        
        
        

        
        function filterActivity(type) {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const timelineItems = document.querySelectorAll('.timeline-item');

            
            filterBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            
            timelineItems.forEach(item => {
                if (type === 'all' || item.getAttribute('data-type') === type) {
                    item.style.display = 'flex';
                    item.style.animation = 'slideInLeft 0.3s ease';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        
        function filterAchievements(category) {
            const categoryBtns = document.querySelectorAll('.category-btn');
            const achievementCards = document.querySelectorAll('.achievement-card');

            
            categoryBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            
            achievementCards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.style.display = 'block';
                    card.style.animation = 'slideInUp 0.3s ease';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        
        function switchToAchievements() {
            const achievementsTab = document.querySelector('.tab-btn[data-tab="achievements"]');
            if (achievementsTab) {
                achievementsTab.click();
            }
        }

        
        function switchToPreferencesTab() {
            
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabPanels = document.querySelectorAll('.tab-panel');
            
            tabBtns.forEach(btn => btn.classList.remove('active'));
            tabPanels.forEach(panel => panel.classList.remove('active'));
            
            
            const preferencesTab = document.querySelector('.tab-btn[data-tab="preferences"]');
            const preferencesPanel = document.getElementById('preferences');
            
            if (preferencesTab) {
                preferencesTab.classList.add('active');
            }
            if (preferencesPanel) {
                preferencesPanel.classList.add('active');
            }
            
            
            showGlobalNotification('Settings opened successfully!', 'success');
        }

        
        function loadMoreActivity() {
            
            const timeline = document.querySelector('.activity-timeline');
            const loadMoreBtn = document.querySelector('.load-more-btn');
            
            loadMoreBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Loading...';
            
            setTimeout(() => {
                
                const newActivities = [
                    {
                        type: 'study',
                        icon: 'fa-book',
                        title: 'Completed chapter review',
                        description: 'Reviewed <strong>"Organic Chemistry Basics"</strong> with 90% accuracy',
                        time: '1 week ago',
                        meta: '<span class="accuracy">90% accuracy</span>'
                    },
                    {
                        type: 'social',
                        icon: 'fa-comment',
                        title: 'Answered questions',
                        description: 'Helped 3 students with <strong>Physics</strong> problems',
                        time: '1 week ago',
                        meta: '<span class="help-stats"><span class="stat"> 8 replies</span></span>'
                    }
                ];

                newActivities.forEach(activity => {
                    const activityHTML = `
                        <div class="timeline-item" data-type="${activity.type}">
                            <div class="timeline-marker">
                                <i class="fa-solid ${activity.icon}"></i>
                            </div>
                            <div class="timeline-content">
                                <h4>${activity.title}</h4>
                                <p>${activity.description}</p>
                                <div class="activity-meta">
                                    <span class="timeline-time">${activity.time}</span>
                                    <div class="activity-extras">${activity.meta}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    timeline.insertAdjacentHTML('beforeend', activityHTML);
                });

                loadMoreBtn.innerHTML = '<i class="fa-solid fa-arrow-down"></i> Load More Activity';
            }, 1000);
        }

        
        function joinGroup(groupId) {
            const profile = document.querySelector('.interactive-profile');
            const notification = profile ? profile.querySelector('.showNotification') : null;
            
            
            const message = `Joining group: ${groupId.replace('-', ' ')}...`;
            showGlobalNotification(message, 'success');
            
            
            setTimeout(() => {
                window.location.href = 'groups.html';
            }, 1500);
        }

        
        
        

        
        function viewDataUsage() {
            const mockData = {
                totalStorage: '2.4 GB',
                documents: '1.8 GB',
                images: '512 MB',
                cache: '128 MB'
            };
            
            const message = `Storage Usage:\n Documents: ${mockData.documents}\n Images: ${mockData.images}\n Cache: ${mockData.cache}\n Total: ${mockData.totalStorage}`;
            showGlobalNotification('Data usage displayed in console', 'info');
            console.log(message);
        }

        function exportUserData() {
            showGlobalNotification('Preparing your data export... This may take a few minutes.', 'info');
            
            setTimeout(() => {
                
                const userData = {
                    profile: { name: 'Anonymous User', university: 'State University' },
                    studyGroups: ['Math Study Group', 'Computer Science Hub'],
                    achievements: ['Study Streak Master', 'Community Builder'],
                    studyHours: 187
                };
                
                const dataStr = JSON.stringify(userData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = 'studybuddy-data-export.json';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showGlobalNotification('Data exported successfully!', 'success');
            }, 2000);
        }

        function clearCache() {
            if (confirm('This will clear all cached data. Are you sure?')) {
                localStorage.clear();
                sessionStorage.clear();
                showGlobalNotification('Cache cleared successfully!', 'success');
            }
        }

        
        function changePassword() {
            const currentPassword = prompt('Enter your current password:');
            if (currentPassword) {
                const newPassword = prompt('Enter your new password:');
                if (newPassword && newPassword.length >= 8) {
                    showGlobalNotification('Password changed successfully!', 'success');
                } else {
                    showGlobalNotification('Password must be at least 8 characters long', 'error');
                }
            }
        }

        function setup2FA() {
            const confirmSetup = confirm('This will guide you through setting up two-factor authentication. Continue?');
            if (confirmSetup) {
                showGlobalNotification('2FA setup initiated. Check your email for instructions.', 'info');
            }
        }

        function viewSessions() {
            const sessions = [
                { device: 'Chrome on Windows', location: 'Current Session', active: true },
                { device: 'Mobile App', location: 'Last seen 2 hours ago', active: false },
                { device: 'Firefox on Mac', location: 'Last seen yesterday', active: false }
            ];
            
            let sessionsList = 'Active Sessions:\n';
            sessions.forEach(session => {
                sessionsList += ` ${session.device} - ${session.location}\n`;
            });
            
            console.log(sessionsList);
            showGlobalNotification('Session details displayed in console', 'info');
        }

        function manageAPI() {
            const apiApps = ['StudyBuddy Mobile App', 'Calendar Sync', 'Grade Tracker'];
            showGlobalNotification(`Managing ${apiApps.length} connected applications`, 'info');
        }

        
        function contactSupport() {
            const email = 'support@studybuddy.com';
            const subject = 'Support Request from StudyBuddy User';
            const mailtoLink = `mailto:${email}?subject=${encodeURIComponent(subject)}`;
            
            window.open(mailtoLink);
            showGlobalNotification('Opening email client...', 'info');
        }

        function reportProblem() {
            const problem = prompt('Please describe the problem you encountered:');
            if (problem) {
                showGlobalNotification('Problem report submitted. Thank you for your feedback!', 'success');
                console.log('Problem Report:', problem);
            }
        }

        function provideFeedback() {
            const feedback = prompt('Please share your feedback or suggestions:');
            if (feedback) {
                showGlobalNotification('Feedback submitted. Thank you for helping us improve!', 'success');
                console.log('User Feedback:', feedback);
            }
        }

        
        function signOut() {
            if (confirm('Are you sure you want to sign out?')) {
                showGlobalNotification('Signing out...', 'info');
                setTimeout(() => {
                    
                    showGlobalNotification('Signed out successfully!', 'success');
                    
                }, 1000);
            }
        }

        function signOutAll() {
            if (confirm('This will sign you out of all devices. Are you sure?')) {
                showGlobalNotification('Signing out of all devices...', 'info');
                setTimeout(() => {
                    showGlobalNotification('Signed out of all devices successfully!', 'success');
                    
                }, 1500);
            }
        }

        function deactivateAccount() {
            const reason = prompt('Please tell us why you want to deactivate your account (optional):');
            const confirm1 = confirm('Deactivating your account will:\n Hide your profile from others\n Pause all notifications\n Keep your data safe\n\nYou can reactivate anytime. Continue?');
            
            if (confirm1) {
                showGlobalNotification('Account deactivated successfully. You can reactivate anytime by signing in.', 'success');
                console.log('Deactivation reason:', reason);
            }
        }

        function deleteAccount() {
            const warning = 'WARNING: This will permanently delete your account and ALL data including:\n\n Profile information\n Study groups\n Achievements\n Study history\n Uploaded resources\n\nThis action CANNOT be undone!\n\nType "DELETE" to confirm:';
            
            const confirmation = prompt(warning);
            
            if (confirmation === 'DELETE') {
                const finalConfirm = confirm('Are you absolutely sure? This is your last chance to cancel.');
                
                if (finalConfirm) {
                    const password = prompt('Enter your password to confirm account deletion:');
                    
                    if (password) {
                        showGlobalNotification('Account deletion initiated... This may take up to 24 hours to complete.', 'info');
                        
                        setTimeout(() => {
                            showGlobalNotification('Account scheduled for deletion. You have 24 hours to cancel by contacting support.', 'success');
                        }, 2000);
                    }
                }
            } else if (confirmation !== null) {
                showGlobalNotification('Account deletion cancelled. You must type "DELETE" exactly.', 'error');
            }
        }

        
        function showGlobalNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fa-solid fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: ${type === 'success' ? 'rgba(34, 197, 94, 0.2)' : type === 'error' ? 'rgba(239, 68, 68, 0.2)' : 'rgba(59, 130, 246, 0.2)'};
                border: 1px solid ${type === 'success' ? 'rgba(34, 197, 94, 0.3)' : type === 'error' ? 'rgba(239, 68, 68, 0.3)' : 'rgba(59, 130, 246, 0.3)'};
                color: ${type === 'success' ? '#22c55e' : type === 'error' ? '#ef4444' : '#3b82f6'};
                padding: 1rem 1.5rem;
                border-radius: 12px;
                backdrop-filter: blur(20px);
                z-index: 10000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                max-width: 300px;
            `;

            document.body.appendChild(notification);
            
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        
        document.addEventListener('DOMContentLoaded', () => {
            const mobileNav = new MobileNavigation();
            const interactiveProfile = new InteractiveProfile();
            
            
            setTimeout(() => {
                const settingsBtn = document.getElementById('settingsBtn');
                if (settingsBtn) {
                    
                    settingsBtn.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        
                        switchToPreferencesTab();
                    };
                }
            }, 100);
            
            
            const style = document.createElement('style');
            style.textContent = `
                .slide-in-up {
                    animation: slideInUp 0.5s ease forwards;
                }
                
                .slide-in-left {
                    animation: slideInLeft 0.5s ease forwards;
                }
                
                @keyframes slideInUp {
                    from {
                        opacity: 0;
                        transform: translateY(30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                @keyframes slideInLeft {
                    from {
                        opacity: 0;
                        transform: translateX(-30px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }
                
                .notification-content {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }
                
                .animate-in {
                    animation: fadeInScale 0.6s ease forwards;
                }
                
                @keyframes fadeInScale {
                    from {
                        opacity: 0;
                        transform: scale(0.9);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>


